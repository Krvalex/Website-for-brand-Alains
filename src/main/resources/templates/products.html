<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Products</title>
    <link href="/css/navigation.css" rel="stylesheet">
    <link href="/css/product.css" rel="stylesheet">
</head>
<body>
<div th:replace="navigation.html :: navigation"></div>

<div class="products-page">
    <h2>Все товары</h2>

    <!-- Список товаров -->
    <div class="product-grid">
        <div class="product-card" th:each="product : ${products}">
            <!-- Сердечко для добавления в избранное -->
            <span class="heart-icon"
                  onclick="toggleFavorite(this)"
                  th:classappend="${favoriteProducts.contains(product)} ? 'active' : ''"
                  th:data-product-id="${product.id}">
    <img alt="Favorite Icon"
         th:src="@{${favoriteProducts.contains(product) ? '/images/various/favorites-active.png' : '/images/various/favorites.png'}}">
</span>

            <img alt="Product Image" class="product-image" loading="lazy" th:src="@{${product.image}}">
            <h3 class="product-name" th:text="${product.name}"></h3>
            <p class="product-price" th:text="${product.price} + ' ₽'"></p>
        </div>
    </div>

    <script src="/js/main.js"></script>
</div>
</body>
</html>
